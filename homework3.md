1) Развернул шардированный класстер на основе примера в лекции но видоизменив docker compose убрав порты у всех серверов кроме mongos, негоже им смотреть наружу, и не меняя дефолтных портов
2) Итого 3 конфиг сервера, 2 шарды по 3 сервера в каждой и 2 mongos
3) Сделал два сервера mongos для обеспечения надежности
4) Cложность: Столкнулся с тем что не могу достучаться до машин, долго искал инфу пока понял, что у конфиг серверов свой порт по дефолту и у шард свой
5) Поронял разные инстсы, если уронить 2 конфиг сервера или 2 сервера в шардае - то 1 серверу не хватает голоса чтобы стать primary и кластер рушится. Если по 1 машине ронять - все работает.
6) Ключ шардирования задал хэшированный _id
7) Развернул 1 инстанс в контейнере для авторизаци проверки и настройки ролей (как в лекции на 1 инстансе, т.к. для кластера шардированного применяется подход с файлами ключей и настройка, судя по всему, будет очень долгой)
8) Столкнулся со сложностью - если разворачивать в контейнерах, отсутствует файл /etc/mongo.config (поэтому задал требование аутентификации через compose файл)
   Насоздавал различных пользователей с различными ролями.

